<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_script_client">
    <sys_script_client action="INSERT_OR_UPDATE">
        <active>true</active>
        <applies_extended>false</applies_extended>
        <condition/>
        <description>Observação: O campo CPF deverá ser validado por meio de expressão regular, utilizando um Client Script, aceitando exclusivamente o formato com pontos e traço (exemplo: 123.456.789-00).</description>
        <field>cpf</field>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>EdxValidacaoCPFTabelaEquipe</name>
        <order/>
        <script><![CDATA[function onLoad() {
    // Pega o elemento do campo CPF no formulário. Lembre-se que o nome do seu campo é 'cpf'.
    var cpfField = g_form.getControl('cpf');

    // Se o campo não existir, para o script.
    if (!cpfField) {
        return;
    }

    // LÓGICA 1: FORMATAÇÃO EM TEMPO REAL (a cada tecla pressionada)
    cpfField.addEventListener('input', function() {
        // Remove tudo que não for número e limita a 11 dígitos.
        var value = cpfField.value.replace(/\D/g, '').substring(0, 11);

        // Aplica a máscara de formatação progressivamente.
        var formatted = value.replace(/(\d{3})(\d)/, '$1.$2')
                             .replace(/(\d{3})\.(\d{3})(\d)/, '$1.$2.$3')
                             .replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/, '$1.$2.$3-$4');
        
        // Atualiza o valor no campo.
        cpfField.value = formatted;
    });

    // LÓGICA 2: VALIDAÇÃO FINAL (quando o usuário sai do campo)
    cpfField.addEventListener('change', function(){
        var finalValue = cpfField.value;

        // Verifica se o campo não está vazio e se está incompleto (diferente de 14 caracteres).
        if (finalValue.length > 0 && finalValue.length < 14) {
            // Se estiver incompleto, mostra uma mensagem de erro permanente.
            g_form.showFieldMsg('cpf', 'CPF incompleto. Por favor, preencha todos os 11 dígitos.', 'error', false);
        } else {
            // Se estiver completo ou vazio, esconde qualquer mensagem de erro.
            g_form.hideFieldMsg('cpf', true);
        }
    });
}]]></script>
        <sys_class_name>sys_script_client</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-07-30 18:31:11</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>d01bed39838b621016c7c4b6feaad3e4</sys_id>
        <sys_mod_count>10</sys_mod_count>
        <sys_name>EdxValidacaoCPFTabelaEquipe</sys_name>
        <sys_overrides/>
        <sys_package display_value="Mock SkillUp" source="x_1807092_mock_ski">8b05d9b9830b621016c7c4b6feaad31b</sys_package>
        <sys_policy/>
        <sys_scope display_value="Mock SkillUp">8b05d9b9830b621016c7c4b6feaad31b</sys_scope>
        <sys_update_name>sys_script_client_d01bed39838b621016c7c4b6feaad3e4</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-08-06 17:49:09</sys_updated_on>
        <table>x_1807092_mock_ski_equipe</table>
        <type>onLoad</type>
        <ui_type>10</ui_type>
        <view/>
    </sys_script_client>
</record_update>
